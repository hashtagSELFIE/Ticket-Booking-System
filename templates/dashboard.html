{% extends "base.html" %}
{% load static %}

{% block content %}
  <div class="my-4">
    <section>
      <div class="row justify-content-center align-items-center">
        <div class="col-12 col-lg-5">
          <h6>From</h6>
          <div class="form-group ml-0">
            <input type="text" class="form-control d-inline-block" style="width: 42.5%" name="" id="" placeholder="">
            <span>To</span>
            <input type="text" class="form-control d-inline-block" style="width: 42.5%" name="" id="" placeholder="">
          </div>
        </div>
        <div class="col-12 col-lg-5 my-3 my-lg-0">
          <h6>Select</h6>
          <span style="font-weight: 500">Traveling Date</span>
        </div>
        <div class="col-12 col-lg-2">
          <button type="button" class="btn btn-outline-dark">Search for schedule</button>
        </div>
      </div>
    </section>
    <section class="my-5">
      <div class="d-flex flex-wrap justify-content-between" style="font-weight: 200">
        <a class="btn btn-dashboard-link border shadow p-3" href={% url 'searchSchedules' %}>
          <img src="{% static 'image/validating-ticket.png' %}" class="mx-auto img-fluid" alt="Book a ticket">
          <p class="my-auto">BOOK A TICKET</p>
        </a>
        <a class="btn btn-dashboard-link border shadow p-3" href={% url 'searchTimetable' %}>
          <img src="{% static 'image/train.png' %}" class="mx-auto img-fluid" alt="Train schedule">
          <p class="my-auto">TRAIN SCHEDULE</p>
        </a>
        <a class="btn btn-dashboard-link border shadow p-3">
          <img src="{% static 'image/transaction.png' %}" class="mx-auto img-fluid" alt="Transaction status">
          <p class="my-auto">TRANSACTION STATUS</p>
        </a>
        <a class="btn btn-dashboard-link border shadow p-3">
          <img src="{% static 'image/bill.png' %}" class="mx-auto img-fluid" alt="View booking ticket">
          <p class="my-auto">VIEW BOOKING TICKET</p>
        </a>
      </div>
    </section>
    <section class="my-5">
      <h3>Announcement</h3>
      <table class="table mt-3">
        <thead>
        <tr>
          <th scope="col">Announcement</th>
          <th scope="col">Announced Date</th>
          <th scope="col">View Count</th>
        </tr>
        </thead>
        <tbody>
        {% for a in announcement %}
          <div data-toggle="collapse" href="#collapse_{{ a.id }}" role="button"
               aria-expanded="false" aria-controls="collapse_{{ a.id }}" style="cursor: pointer">
            <tr>
              <th scope="row">{{ a.announce_text|truncatechars:100 }}</th>
              <td>{{ a.announce_time|date:'d/M/yy' }}, {{ a.announce_time|time:'H:i' }}</td>
              <td>{{ a.view_count }}</td>
            </tr>
          </div>
          <div class="collapse w-100 mt-3" id="collapse_{{ a.id }}">
            {{ a.announce_text }}
          </div>
        {% endfor %}
        </tbody>
      </table>
    </section>
  </div>
{% endblock content %}

{% block style %}
  <style>
    .btn.btn-dashboard-link {
      position: relative;
      width: 20%;
      min-width: 150px;
      transition: 0.5s all ease-in-out;
    }
  </style>
{% endblock style %}